<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Pool A</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
  <meta content="Themesdesign" name="author" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <!-- App favicon -->
  <!-- <link rel="shortcut icon" href="./assets/images/favicon.ico" /> -->
  <link rel="icon" href="./assets/images/krinikIn_Logo.svg" type="image/x-icon">
  <!-- DataTables -->
  <link href="./assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
  <link href="./assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet"
    type="text/css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0" />
  <!-- Responsive datatable examples -->
  <link href="./assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet"
    type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- datepicker -->
  <link href="./assets/libs/air-datepicker/air-datepicker.css" rel="stylesheet" />

  <!-- jvectormap -->
  <!-- <link href="./assets/libs/jqvmap/jqvmap.min.css" rel="stylesheet" /> -->

  <!-- Bootstrap Css -->
  <link href="./assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <!-- Icons Css -->
  <link href="./assets/css/icons.min.css" rel="stylesheet" type="text/css" />
  <!-- App Css-->
  <link href="./assets/css/app.css" rel="stylesheet" type="text/css" />
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

  <style>
    .select-box-wrapper {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 5px;
      background-color: #f9f9f9;
    }

    .select-wrapper {
      position: relative;
    }

    .select-wrapper select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      padding-right: 30px;
    }

    .select-wrapper .select-icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      color: #555;
    }

    .mainnn {

      margin-top: 70px !important;
    }

    input {
      text-align: center;

    }

    .page-content-wrapper {
      background-color: white;
      padding-bottom: 35px;
    }
  </style>
</head>

<body data-topbar="colored">
  <div id="layout-wrapper">
    <header id="page-topbar" class="">
      <div class="navbar-header ">
        <div class="d-flex ">
          <!-- LOGO -->
          <div class="navbar-brand-box">
            <a href="./dashboard.html" class="logo logo-dark">
              <span class="logo-sm">

                <img src="./assets/images/krinikIn_Logo.svg" alt="" />
              </span>
              <span class="logo-lg">

                <img src="./assets/images/krinikIn_Logo.svg" alt="" />
              </span>
            </a>

            <a href="index.html" class="logo logo-light ">
              <span class="logo-sm">

                <img src="./assets/images/krinikIn_Logo.svg" alt="" />
              </span>
              <span class="logo-lg">

                <img src="./assets/images/krinikIn_Logo.svg" alt="" />
              </span>
            </a>
          </div>

          <button type="button" class="btn btn-sm px-3 font-size-24 header-item waves-effect " id="vertical-menu-btn">
            <i class="mdi mdi-backburger "></i>
          </button>

          <!-- App Search-->
          <!-- <form class="app-search d-none d-lg-block">
                            <div class="position-relative mt-3">
                                <input type="text" class="form-control" placeholder="Search...">
                                <span class="mdi mdi-magnify"></span>
                            </div>
                        </form> -->
        </div>

        <div class="  d-flex justify-content-center gap-4 time_show1">
          <div class="dropdown d-flex justify-content-end ms-2  " id="enterotpdiv">
            <!-- <button id="showotppage" type="button" class="btn btn-primary2  waves-effect" 
             >Enter OTP
            </button> -->

          </div>

          <div class="dropdown   dblock">
            <div id="time_show" class="btn-primary2  px-3">
            </div>
          </div>


        </div>

      </div>
    </header>

    <!-- ========== Left Sidebar Start ========== -->
    <div class="vertical-menu ">
      <div data-simplebar class="h-100 ">
        <!--- Sidemenu -->
        <div id="sidebar-menu" class="">
          <!-- Left Menu Start -->
          <ul class="metismenu list-unstyled " id="side-menu">
            <li class="menu-title">Menu</li>

            <li>
              <a href="./dashboard.html" class="waves-effect">
                <div class=" icons-sm icon-set">
                  <span class="material-symbols-outlined icon-margin">
                    dashboard
                    </span>
               
                <span>Dashboard</span>
                </div>
              </a>
            </li>

            <li>
              <a href="./user.html" class="waves-effect">
                <div class="icons-sm icon-set">
                  <span class="material-symbols-outlined icon-margin">
                    person
                    </span>
               
                <span>User</span>
              </div>
              </a>
            </li>

            <li>
              <a href="javascript: void(0);" class=" ">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    sports_cricket
                    </span>                    
                    <span class="has-arrow waves-effect ">Sports Configuration</span>
                                    
                  </div> 
                  
                </a>

              <ul class="sub-menu" aria-expanded="false">
                <li><a href="./manage-league.html">Manage Leagues</a></li>
                <li><a href="./manage-team.html">Manage Teams</a></li>
                <li><a href="./manage-player.html">Manage Players</a></li>
              </ul>
            </li>
            
            <li>
              <a href="javascript: void(0);" class=" ">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    crossword
                    </span>                   
                    <span class="has-arrow has-arrow1 waves-effect ">Manage Contest</span>
                                    
                  </div> 
                  
                </a>

              <ul class="sub-menu" aria-expanded="false">
                <li><a href="./manage-match.html">Manage Match</a></li>
                <li><a href="./manage-pool.html">Manage Pools</a></li>
              </ul>
            </li>

            <li class="otp-exempt" style="display:none">
              <a href="javascript: void(0);" class=" ">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    receipt_long
                    </span>                 
                    <span class="has-arrow has-arrow2 waves-effect ">Transactions</span>
                                    
                  </div> 
                  
                </a>

              <ul class="sub-menu" aria-expanded="false">
                <li><a href="./all-transaction.html">All Transaction</a></li>
                <li><a href="./wallet-transaction.html">Wallet Transaction</a></li>
                <li><a href="./game-transaction.html">Game Transaction</a></li>
              </ul>
            </li>

            <li class="otp-exempt" style="display:none">
              <a href="./account-setting.html" class="waves-effect">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    settings
                    </span>
                    <span>Account Setting</span>
                </div>
              </a>
            </li>
            <li class="otp-exempt" style="display:none">
              <a href="./withdrawal.html" class="waves-effect">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    payments
                    </span>
                    <span>Withdrawal Request</span>
                </div>
              </a>
            </li>
            <li class="otp-exempt" style="display:none">
              <a href="./advertise.html" class="waves-effect">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    ads_click
                    </span>
                    <span>Advertise</span>
                </div>
              </a>
            </li>
            <li class="otp-exempt" style="display:none">
              <a href="./scratch-card.html" class="waves-effect">
                <div class="icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin">
                    award_star
                    </span>
                    <span>Scratch</span>
                </div>
              </a>
            </li>
           
            <li>
              <a href="./kyc.html" class="waves-effect">
                <div class="icons-sm icon-set">
                  <span class="material-symbols-outlined icon-margin">
                    person
                    </span>
               
                <span>KYC</span>
              </div>
              </a>
            </li>

            <li>
              <a href="" class="waves-effect " id="logoutButton">
                <div class=" icons-sm icon-set ">
                  <span class="material-symbols-outlined icon-margin ">
                    logout
                    </span>
                    <span class="">Logout</span>
                </div>
              </a>
            </li>

          
                    </ul>
        </div>
        <!-- Sidebar -->
      </div>
    </div>
    <!-- Left Sidebar End -->

    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
      <div class="page-content">
        <div class="page-title-box">
          <div class="container-fluid">
            <div class="row align-items-center">
              <div>
                <h4 class="page-title mb-1">Create Pairs</h4>
              </div>
            </div>
          </div>
        </div>
        <div class="page-content-wrapper">
          <div class="container-fluid">
            <div class="row justify-content-center">
              <div class="col-lg-6 col-sm-12">
                <div class="card-body mt-4">
                  <h5 class="text-center" id="matchHeading">Enter Pairs</h5>
                  <div id="pairsInputContainer">
                    <!-- Dynamic pair inputs will be inserted here -->
                  </div>
                  <div class="text-center mt-3">
                    <button class="btn btn-secondary" type="button" id="addPairButton">Add Pair</button>
                  </div>
                </div>
              </div>
              <div class="col-lg-5 col-sm-12">
                <div class="card-body mt-4">
                  <h5 class="text-center" id="createdPairsHeading">Created Pairs</h5>
                  <div class="row">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-12">
                          <div class="card">
                            <div class="card-body">
                              <div id="datatable_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                                <div class="row">
                                  <div class="table-rep-plugin">
                                    <div class="table-responsive mb-0 table table-scroll"
                                      data-pattern="priority-columns" id="table-scrolling">
                                      <table id="tech-companies-1"
                                        class="table table-striped text-center align-items-center fixed-table">
                                        <thead>
                                          <tr>
                                            <th>No.</th>
                                            <th>Player 1</th>
                                            <th>Player 2</th>
                                            <th>Limit</th>
                                            <th>Edit</th>
                                            <th>Remove</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <!-- Table rows will be populated here -->
                                        </tbody>
                                      </table>


                                    </div>
                                    <div id="noDataFound" style="display:none;" class="no-data-div">
                                      <img src="./assets/images/no-data.jpg" alt="No Data Found">
                                    </div>
                                  </div>
                                </div>

                                <div class="row pagi" id="pagination" style="display:none">
                                  <div class="col-sm-12 col-md-5">
                                    <div class="dataTables_info" id="datatable_info" role="status" aria-live="polite">
                                      Showing 1 to 10 of 57 leagues
                                    </div>
                                  </div>
                                  <div class="col-sm-12 col-md-7">
                                    <div class="dataTables_paginate paging_simple_numbers pagination index_buttons"
                                      id="datatable_paginate">
                                      <ul class="pagination-list d-flex list-unstyled"></ul>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- end col -->
                      </div>
                      <!-- end row -->
                    </div>
                  </div>
                  <!-- <div id="createdPairsContainer">
                  
                  </div> -->
                </div>
              </div>
            </div>
            <div class="mt-5 text-center d-flex justify-content-center gap-3">
              <button class="btn btn-primary grey-btn" type="button" id="cancel-btn"
                onclick="window.location.replace('./manage-pool.html')">skip</button>
              <button class="btn btn-primary" type="button" id="submitPairsButton">Submit Pairs</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end main content-->
  </div>
  <!-- END layout-wrapper -->







  <!-- Edit Modal -->
  <div id="editModal" style="display: none;">
    <div class="modal-content">
      <h3>Edit Limit</h3>
      <input type="number" id="editLimitInput" placeholder="New Limit" />
      <button id="saveEditButton">Save</button>
      <button id="closeEditButton">Close</button>
    </div>
  </div>

  <style>
    /* Simple modal styles */
    #editModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
    }
  </style>


  <!-- </div> -->

</body>
<script src="./assets/js/logout.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const playerPairsContainer = document.getElementById('createdPairsContainer');
    const submitPairsButton = document.getElementById('submitPairsButton');
    const pairsInputContainer = document.getElementById('pairsInputContainer');
    const matchHeading = document.getElementById('matchHeading');
    const addPairButton = document.getElementById('addPairButton');
    const urlParams = new URLSearchParams(window.location.search);
    const matchName = urlParams.get('match');
    const poolName = urlParams.get('pool_name');
    var id = urlParams.get('id');

    let allPlayers = [];
    let createdPairs = [];

    // Fetch existing pairs for the pool
    fetch(`https://krinik.in/pair_get/`)
      .then(response => response.json())
      .then(data => {
        const pairs = data.data.filter((x) => x.pool_name.id == id);
        createdPairs = pairs.map(pair => ({
          id: pair.id, // Save the id for deleting the pair later
          player_1: pair.player_1.player_name,
          player_2: pair.player_2.player_name,
          limit: pair.limit
        }));
        displayCreatedPairs(); // Display the pairs on the page
      })
      .catch(error => console.error('Error fetching pairs:', error));


    function deletePair(pairId, pairDiv) {
      if (!pairId) {
        // Remove the static pair from createdPairs
        createdPairs = createdPairs.filter((x) => x.byD !== pairDiv);

        // Remove the corresponding inputGroup from the DOM
        const inputGroup = document.querySelector(`.input-group[data-byd="${pairDiv}"]`);
        if (inputGroup) {
          inputGroup.remove(); // Remove the dropdown container
        }

        displayCreatedPairs();
      } else {
        // Backend pair deletion
        fetch(`https://krinik.in/pair_get/${pairId}/`, {
          method: 'DELETE',
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            console.log(`Pair with ID ${pairId} deleted successfully.`);
            displayCreatedPairs();
          })
          .catch(error => console.error('Error deleting pair:', error));
      }
    }


    fetch('https://krinik.in/match_get/')
      .then(response => response.json())
      .then(data => {
        const matchData = data.data;
        const selectedMatch = matchData.find(match => match.match_display_name.includes(matchName));
        if (selectedMatch) {
          const teamAName = selectedMatch.select_team_A.team_name;
          const teamBName = selectedMatch.select_team_B.team_name;
          matchHeading.textContent = `${teamAName} vs ${teamBName}`;

          allPlayers = [
            ...selectedMatch.select_player_A.map(player => player.player_name),
            ...selectedMatch.select_player_B.map(player => player.player_name)
          ];

          createPlayerPairDropdown();
          addPairButton.addEventListener('click', function () {
            // Get the last input group (if exists) and its limit input field
            const lastInputGroup = pairsInputContainer.querySelector('.input-group:last-child');

            // Check if the last input group exists and if its limit input field has a value
            if (lastInputGroup) {
              const lastLimitInput = lastInputGroup.querySelector('input[type="text"]');

              if (!lastLimitInput.value) {
                // If the last limit input is empty, prevent adding a new pair
                alert('Please enter a limit for the current pair before adding a new one.');
                return;
              }
            }

            // If there is a valid limit in the last input group, create a new pair dropdown
            createPlayerPairDropdown();
          });

        }
      })
      .catch(error => console.error('Error fetching match data:', error));

    function createPlayerPairDropdown() {
      const inputGroup = document.createElement('div');
      const byD = 'jatssdev' + Math.random() * 100000; // Unique identifier for static pairs
      inputGroup.className = 'input-group mb-3';
      inputGroup.setAttribute('data-byd', byD); // Add a unique identifier to the input group

      const selectA = createPlayerDropdown(allPlayers);
      const selectB = createPlayerDropdown(allPlayers);
      const limitInput = document.createElement('input');
      limitInput.type = 'text';
      limitInput.className = 'form-control';
      limitInput.placeholder = 'Limit';

      selectA.addEventListener('change', function () {
        handleSelectionChange(selectA, selectB, limitInput);
      });

      selectB.addEventListener('change', function () {
        handleSelectionChange(selectA, selectB, limitInput);
      });

      limitInput.addEventListener('input', function () {
        updateCreatedPairs(selectA, selectB, limitInput, byD);
      });

      inputGroup.appendChild(selectA);
      inputGroup.appendChild(selectB);
      inputGroup.appendChild(limitInput);
      pairsInputContainer.appendChild(inputGroup);
    }


    function createPlayerDropdown(players) {
      const selectElement = document.createElement('select');
      selectElement.className = 'form-control player-dropdown';
      const defaultOption = document.createElement('option');
      defaultOption.value = '';
      defaultOption.textContent = 'Select Player';
      selectElement.appendChild(defaultOption);

      players.forEach(player => {
        const option = document.createElement('option');
        option.value = player;
        option.textContent = player;
        selectElement.appendChild(option);
      });

      return selectElement;
    }

    function handleSelectionChange(selectA, selectB, limitInput) {

      const playerA = selectA.value;
      const playerB = selectB.value;

      if (playerA && playerB) {
        if (playerA === playerB) {
          alert('Player A and Player B cannot be the same.');
          selectA.value = '';
          selectB.value = '';
        } else if (pairExists(playerA, playerB)) {
          alert('This pair already exists.');
          selectA.value = '';
          selectB.value = '';
        } else {
          limitInput.value = '';
          createdPairs = createdPairs.filter(pair => !(pair.player_1 === playerA && pair.player_2 === playerB || pair.player_1 === playerB && pair.player_2 === playerA));
          displayCreatedPairs();
        }
      }
    }

    function updateCreatedPairs(selectA, selectB, limitInput, byD) {
      const playerA = selectA.value;
      const playerB = selectB.value;
      const limit = limitInput.value;

      // Ensure that both players are selected and a valid limit is provided
      if (!playerA || !playerB || !limit) {
        return; // Prevent further action if the limit is not provided
      }

      const existingPairIndex = createdPairs.findIndex(pair =>
        (pair.player_1 === playerA && pair.player_2 === playerB) ||
        (pair.player_1 === playerB && pair.player_2 === playerA)
      );

      if (existingPairIndex !== -1) {
        // Update the existing pair's limit
        createdPairs[existingPairIndex].limit = parseInt(limit, 10);
      } else {
        // Add the new static pair with a unique identifier (byD)
        createdPairs.push({
          player_1: playerA,
          player_2: playerB,
          limit: parseInt(limit, 10),
          byD: byD
        });
      }

      displayCreatedPairs(); // Re-render the table
    }




    function pairExists(playerA, playerB) {
      return createdPairs.some(pair => {
        return (pair.player_1 === playerA && pair.player_2 === playerB) ||
          (pair.player_1 === playerB && pair.player_2 === playerA);
      });
    }


    function displayCreatedPairs() {
      const tableBody = document.querySelector('#tech-companies-1 tbody');
      tableBody.innerHTML = ''; // Clear previous table rows

      createdPairs.forEach((pair, index) => {
        const row = document.createElement('tr');

        // Create table cells for each pair property
        const noCell = document.createElement('td');
        noCell.textContent = index + 1; // Pair number

        const player1Cell = document.createElement('td');
        player1Cell.textContent = pair.player_1;

        const player2Cell = document.createElement('td');
        player2Cell.textContent = pair.player_2;

        const limitCell = document.createElement('td');
        limitCell.textContent = pair.limit;

        // Create the Edit button
        const editCell = document.createElement('td');
        const editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.className = 'btn btn-primary btn-sm';
        editButton.addEventListener('click', function () {
          openEditModal(pair);  // Function to open modal for editing
        });
        editCell.appendChild(editButton);

        // Create the remove button
        const removeCell = document.createElement('td');
        const removeButton = document.createElement('button');
        removeButton.textContent = 'Remove';
        removeButton.className = 'btn btn-danger btn-sm';
        removeButton.addEventListener('click', function () {
          deletePair(pair.id, pair.byD);  // Call the delete function with pair id
        });
        removeCell.appendChild(removeButton);

        // Append all cells to the row
        row.appendChild(noCell);
        row.appendChild(player1Cell);
        row.appendChild(player2Cell);
        row.appendChild(limitCell);
        row.appendChild(editCell);
        row.appendChild(removeCell);

        // Append the row to the table body
        tableBody.appendChild(row);
      });
    }
    let currentEditingPairId = null;
    let currentEditingByD = null; // For static data

    function openEditModal(pair) {
      const editModal = document.getElementById('editModal');
      const editLimitInput = document.getElementById('editLimitInput');
      editLimitInput.value = pair.limit; // Pre-fill with current limit

      // Show the modal
      editModal.style.display = 'block';

      // Store the pair id being edited (for backend pairs)
      currentEditingPairId = pair.id ? pair.id : null;

      // Store the byD (for static pairs)
      currentEditingByD = pair.byD ? pair.byD : null;
    }

    // Close modal functionality
    document.getElementById('closeEditButton').addEventListener('click', function () {
      document.getElementById('editModal').style.display = 'none';
    });

    // Save changes functionality
    document.getElementById('saveEditButton').addEventListener('click', function () {
      const newLimit = document.getElementById('editLimitInput').value;

      // Find the pair being edited and update its limit
      if (currentEditingPairId) {
        // If the pair has an id, call the API
        const pair = createdPairs.find(pair => pair.id === currentEditingPairId);
        if (pair) {
          pair.limit = newLimit; // Update the limit

          // Send the updated limit to the backend
          fetch(`https://krinik.in/pair_get/${pair.id}/`, {
            method: 'PATCH', // Use PUT or PATCH
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ limit: newLimit }), // Send the updated limit
          })
            .then(response => response.json())
            .then(data => {
              console.log('Pair updated:', data);
              displayCreatedPairs(); // Refresh the UI after saving changes
            })
            .catch(error => {
              console.error('Error updating pair:', error);
            });
        }
      } else if (currentEditingByD) {
        // If the pair doesn't have an id (static data)
        const pair = createdPairs.find(pair => pair.byD === currentEditingByD);
        if (pair) {
          pair.limit = newLimit; // Update the limit for the static pair
          displayCreatedPairs(); // Refresh the UI
        }
      }

      // Close the modal
      document.getElementById('editModal').style.display = 'none';
    });



    submitPairsButton.addEventListener('click', function () {
      if (createdPairs.length === 0) {
        alert('No pairs created.');
        return;
      }

      createdPairs.forEach(pair => {
        const payload = {
          pool_name: poolName,
          select_match: matchName,
          player_1: pair.player_1,
          player_2: pair.player_2,
          limit: pair.limit,
          pool_type: "Silver"
        };

        fetch('https://krinik.in/pair_get/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload),
        })
          .then(response => {
            if (!response.ok) {
              console.error('Network response was not ok. Status:', response.status, 'Status Text:', response.statusText);
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(data => {
            console.log('Success:', data);
            window.location.href = "./manage-pool.html";
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });
    });
  });
</script>

<script src="assets/libs/jquery/jquery.min.js"></script>
<script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/libs/metismenu/metisMenu.min.js"></script>
<script src="assets/libs/simplebar/simplebar.min.js"></script>
<script src="assets/libs/node-waves/waves.min.js"></script>

<script src="https://unicons.iconscout.com/release/v2.0.1/script/monochrome/bundle.js"></script>


<script src="assets/js/app.js"></script>

</script>





<!-- Bootstrap JS scripts (example) -->










</html>